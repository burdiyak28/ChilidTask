<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>ChilidTable</title>
</head>
<body>
<table id="tableOfEmployee" border="1">
    <thead>
    <tr>
        <th>ID</th>
        <th>First name</th>
        <th>Last name</th>
        <th>Date of birth</th>
        <th>Company</th>
        <th>Note</th>
    </tr>
    </thead>
    <tbody id="dateOfEmployee">

    </tbody>
</table>
<div class="pagination">

</div>

<script>
    function showData(numberOfPage) {

        var data = '[{"id":1,"firstName":"Jan","lastName":"Kowalski","dateOfBirth":"1.7.1990 11:35","company":"XSolve","note":90},{"id":4,"firstName":"Justyna","lastName":"Kowalska","dateOfBirth":"4.02.1976 14:37","company":"XSolve","note":91},{"id":2,"firstName":"Krzysztof","lastName":"Krawczyk","dateOfBirth":"28.10.1950 2:15","company":"Chilid","note":27},{"id":3,"firstName":"Boguslaw","lastName":"Linda","dateOfBirth":"03.01.1963 23:10","company":"XSolve","note":50},{"id":5,"firstName":"Krzysztof","lastName":"Kononowicz","dateOfBirth":"10.10.1910 18:00","company":"Chilid","note":77},{"id":6,"firstName":"Maryla","lastName":"Rodowicz","dateOfBirth":"29.02.1936 11:35","company":"XSolve","note":8},{"id":7,"firstName":"Edyta","lastName":"Gorniak","dateOfBirth":"14.11.1972 06:35","company":"XSolve","note":25},{"id":8,"firstName":"Dawid","lastName":"Podsiadlo","dateOfBirth":"23.05.1993 16:15","company":"Chilid","note":19},{"id":9,"firstName":"Elvis","lastName":"Presley","dateOfBirth":"09.01.1935 01:35","company":"XSolve","note":8},{"id":1,"firstName":"Jan","lastName":"Kowalski","dateOfBirth":"1.7.1990 11:35","company":"XSolve","note":90},{"id":4,"firstName":"Justyna","lastName":"Kowalska","dateOfBirth":"4.02.1976 14:37","company":"XSolve","note":91},{"id":2,"firstName":"Krzysztof","lastName":"Krawczyk","dateOfBirth":"28.10.1950 2:15","company":"Chilid","note":27},{"id":3,"firstName":"Boguslaw","lastName":"Linda","dateOfBirth":"03.01.1963 23:10","company":"XSolve","note":50},{"id":5,"firstName":"Krzysztof","lastName":"Kononowicz","dateOfBirth":"10.10.1910 18:00","company":"Chilid","note":77},{"id":6,"firstName":"Maryla","lastName":"Rodowicz","dateOfBirth":"29.02.1936 11:35","company":"XSolve","note":8},{"id":7,"firstName":"Edyta","lastName":"Gorniak","dateOfBirth":"14.11.1972 06:35","company":"XSolve","note":25},{"id":8,"firstName":"Dawid","lastName":"Podsiadlo","dateOfBirth":"23.05.1993 16:15","company":"Chilid","note":19},{"id":9,"firstName":"Elvis","lastName":"Presley","dateOfBirth":"09.01.1935 01:35","company":"XSolve","note":8},{"id":1,"firstName":"Jan","lastName":"Kowalski","dateOfBirth":"1.7.1990 11:35","company":"XSolve","note":90},{"id":4,"firstName":"Justyna","lastName":"Kowalska","dateOfBirth":"4.02.1976 14:37","company":"XSolve","note":91},{"id":2,"firstName":"Krzysztof","lastName":"Krawczyk","dateOfBirth":"28.10.1950 2:15","company":"Chilid","note":27},{"id":3,"firstName":"Boguslaw","lastName":"Linda","dateOfBirth":"03.01.1963 23:10","company":"XSolve","note":50},{"id":5,"firstName":"Krzysztof","lastName":"Kononowicz","dateOfBirth":"10.10.1910 18:00","company":"Chilid","note":77},{"id":6,"firstName":"Maryla","lastName":"Rodowicz","dateOfBirth":"29.02.1936 11:35","company":"XSolve","note":8},{"id":7,"firstName":"Edyta","lastName":"Gorniak","dateOfBirth":"14.11.1972 06:35","company":"XSolve","note":25},{"id":8,"firstName":"Dawid","lastName":"Podsiadlo","dateOfBirth":"23.05.1993 16:15","company":"Chilid","note":19},{"id":9,"firstName":"Elvis","lastName":"Presley","dateOfBirth":"09.01.1935 01:35","company":"XSolve","note":8}]';

        var event = JSON.parse(data);
        var sortResult = sortOfKey(event, "id");

        var pagin = pagination(sortResult, numberOfPage);//



        document.getElementById("dateOfEmployee").innerHTML = "";
        document.getElementsByClassName("pagination")[0].innerHTML = "";

        pagin.forEach(function (value) {
            var element = document.createElement("tr");

            //document.getElementById("dateOfEmployee").insertAdjacentHTML('afterbegin', "<tr>");

            for (var key in value) {

                var htmlToInsert = document.createElement("td");
                htmlToInsert.innerHTML = value[key];

                //document.getElementById("dateOfEmployee").insertAdjacentHTML('beforeend', htmlToInsert);
                console.log(htmlToInsert);
                element.appendChild(htmlToInsert);

            }

            document.getElementById("dateOfEmployee").appendChild(element);
        });


        var countyPages = countPages(event.length);
        createLinks(countyPages);
    }

    showData(1);

    function pagination (data, number){
        var countElementsOnPage = 5;
        return data.slice(number*countElementsOnPage-countElementsOnPage, number*countElementsOnPage);
    }

    function countPages(countElements) {
        var countElementsOnPage = 5;
        return Math.ceil(countElements/countElementsOnPage);
    }

    function createLinks(countPages) {
        for (var i = 1; i <= countPages; i++){
            var tagLink = document.createElement("a");
            tagLink.setAttribute("href", "#");
            tagLink.addEventListener("click", showContent);
            var nameOfLink = document.createTextNode(i);
            tagLink.appendChild(nameOfLink);
            document.getElementsByClassName("pagination")[0].appendChild(tagLink);

        }
    }

    function showContent() {
        showData(this.innerHTML);

    }


    function sortOfKey (arrayToSort, key, reverse) {
        arrayToSort.sort(function (a, b) {
            if (a[key] > b[key]) {
                return 1;
            }
            if (a[key] < b[key]) {
                return -1;
            }

            return 0;
        });
        return arrayToSort;
    }





</script>
</body>
</html>